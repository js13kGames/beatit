"use strict";function init(){setup()}function setup(){drawHero(),startHeroAnimation(),drawTextData(),drawEnemies(enemiesNumber)}function drawHero(){ctx.save(),ctx.clearRect(515,650,100,100),ctx.drawImage(mainHero,hero.heroSliceX,hero.heroSliceY,76,100,hero.heroPositionX,hero.heroPositionY,76,100),hero.heroSliceX+=76,hero.heroPositionX=515,hero.heroSliceX>=mainHero.width&&(hero.heroSliceX=0,hero.heroPositionX=522),ctx.restore()}function drawTextData(){if(ctx.fillStyle="#000099",ctx.font="20px monospace",ctx.fillText("Score: "+score,livebar.positionX+130,livebar.positionY+15),ctx.font="20px monospace",ctx.fillText("Live:",livebar.positionX-70,livebar.positionY+15),livebar.live>0)for(var e=1;e<=livebar.live;e++)drawLiveBar(e)}function drawEnemy(e,o){enemy.direction=getRandomInt(.5,3),enemy.vx=enemy.speed*enemy.direction,enemy.posX+=enemy.speed,enemy.posX,enemy.posY=o,ctx.clearRect(enemy.posX-15,enemy.posY,15,15),ctx.fillStyle="#a1a1a1",ctx.fillRect(enemy.posX,enemy.posY,15,15),enemy.posX>=canvas.width&&(enemy.posX=0,ctx.clearRect(enemy.posX-15,enemy.posY,15,15)),setTimeout("drawEnemy(enemy.posX, enemy.posY)",10)}function drawEnemies(e){for(var o=0;o<e;o++){drawEnemy(0,getRandomInt(20,canvas.height-200))}}function startHeroAnimation(){intervalRef||setInterval("drawHero() ",300)}function drawLiveBar(e){ctx.fillStyle="#000099",ctx.fillRect(livebar.positionX+e,livebar.positionY,1,20)}function getRandomInt(e,o){return Math.floor(Math.random()*(o-e+1))+e}var canvas=document.getElementById("game");canvas.style.backgroundColor="antiquewhite",canvas.style.border="10px solid #0a0a0a";var ctx=canvas.getContext("2d");ctx.save();var mainHero=new Image;mainHero.src="hero_sprite.png";var intervalRef,score=0,enemiesNumber=6,level=1,hero={heroSliceX:0,heroSliceY:0,heroPositionX:522,heroPositionY:650},livebar={live:100,positionX:500,positionY:750},enemy={speed:1,direction:1,posX:0,posY:0,vy:1},enemies=[];