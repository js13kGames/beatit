function init(){setup()}function setup(){drawHero(),startHeroAnimation(),drawEnemies(enemiesNumber)}function drawHero(){if(ctx.font="20px monospace",ctx.fillText("Score: "+score,livebar.positionX+130,livebar.positionY+15),ctx.font="20px monospace",ctx.fillText("Live:",livebar.positionX-70,livebar.positionY+15),livebar.live>0)for(var e=1;e<=livebar.live;e++)drawLiveBar(e);ctx.clearRect(515,650,100,100),ctx.drawImage(mainHero,heroSliceX,heroSliceY,76,100,heroPositionX,heroPositionY,76,100),heroSliceX+=76,heroPositionX=515,heroSliceX>=mainHero.width&&(heroSliceX=0,heroPositionX=522)}function drawEnemies(e){for(var o=1,i={posX:0,posY:0,vy:1},t=[],r=0;r<=e;r++)o=1,i.posX=0,i.posY=getRandomInt(-10,canvas.height-200),i.vy=.1*o,t.push(i),i.posX+=.1,i.posX=getRandomInt(-10,canvas.height-200),ctx.clearRect(i.posX-20,i.posY,15,15),ctx.fillStyle="#a1a1a1",ctx.fillRect(i.posX,i.posY,15,15)}function drawLiveBar(e){ctx.fillStyle="#000099",ctx.fillRect(livebar.positionX+e,livebar.positionY,1,20)}function startHeroAnimation(){intervalRef||setInterval("drawHero()",500)}function getRandomInt(e,o){return Math.floor(Math.random()*(o-e+1))+e}var canvas=document.getElementById("game");canvas.style.backgroundColor="antiquewhite",canvas.style.border="10px solid #0a0a0a";var ctx=canvas.getContext("2d"),mainHero=new Image;mainHero.src="hero_sprite.png";var intervalRef,score=0,enemiesNumber=10,heroSliceX=0,heroSliceY=0,heroPositionX=522,heroPositionY=650,livebar={live:100,positionX:500,positionY:750};